{% extends 'blog/base.html' %}

{% load static %}

{% block main_content %}

    {% for post in posts %}
    
        <h2 class="blog_post_heading"><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>

        <h3 class="blog_post_dateline">{{ post.publication_date }} | {% for tag in post.tags.all %}{% if not forloop.first %}, {% endif %}<a href="/blog/tag/{{ tag.name }}">{{ tag.name }}</a>{% endfor %}</h3>
    
        {{ post.body|truncatewords_html:200|safe }}
    
        <p>{% if post.body|wordcount >= 200 %}<a href="{{ post.get_absolute_url }}">(read more)</a>{% endif %}</p>
        
        <br><br>
        
    {% endfor %}

    {% if is_paginated %}
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}" style="float:right">Newer posts &raquo;</a>
        {% endif %}
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" style="float:left">&laquo; Older posts</a>
        {% endif %}
    {% endif %}

{% endblock %}
